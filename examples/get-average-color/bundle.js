!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";var n=r(1),a=function(t){return t&&t.__esModule?t:{default:t}}(n);document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".js-colored").forEach(function(t){var e=t.querySelector("img");(0,a.default)(e.getAttribute("src")).then(function(e){t.style.backgroundColor="rgb("+e.r+", "+e.g+", "+e.b+")"})})})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t.parentNode.removeChild(t)},a=function(t){for(var e={r:0,g:0,b:0},r={y:0,u:0,v:0},n=function(t){return t/(Math.abs(t)+.4)},a=4*Math.ceil(t.data.length/4e4),u=0,o=0;o<t.data.length;o+=a)255===t.data[o]&&255===t.data[o+1]&&255===t.data[o+2]||(e.r=t.data[o]/255,e.g=t.data[o+1]/255,e.b=t.data[o+2]/255,r.y+=.299*e.r+.587*e.g+.114*e.b,r.u+=-.147*e.r-.289*e.g+.436*e.b,r.v+=.615*e.r-.515*e.g-.1*e.b,u+=1);return r.y=n(r.y/u),r.u=n(r.u/u),r.v=n(r.v/u),e.r=r.y+1.3983*r.v,e.g=r.y-.3946*r.u-.5806*r.v,e.b=r.y+2.0321*r.u,e.r=Math.round(255*e.r),e.g=Math.round(255*e.g),e.b=Math.round(255*e.b),e},u=function(t){var e=t.width,r=t.height;if(e>0&&r>0){var a=document.createElement("canvas");a.width=e,a.height=r;var u=a.getContext("2d");u.fillStyle="rgb(255, 255, 255)",u.fillRect(0,0,e,r),u.drawImage(t,0,0,e,r),n(t);try{return u.getImageData(0,0,e,r)}catch(t){return!1}}else n(t)},o=function(t,e,r){var n=u(t);!1!==n?e(a(n)):r("Can't get ImageData from image "+t.getAttribute("src"))},i=function(t,e){n(t),e("Can't load image "+t.getAttribute("src"))},d=function(t){return new Promise(function(e,r){var n=document.createElement("img"),a=document.querySelector("body");n.addEventListener("load",o.bind(null,n,e,r)),n.addEventListener("cached",o.bind(null,n,e,r)),n.addEventListener("abort",i.bind(null,n,r)),n.addEventListener("error",i.bind(null,n,r)),n.crossOrigin="",n.style.display="none",n.setAttribute("src",t),a.appendChild(n)})};e.default=d}]);